(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(8),c=a.n(s),r=(a(13),a(6)),o=(a(14),a(2)),i=a(3),l=a(5),u=a(4),d=(a(15),a(0)),m=function(e){var t=e.onClick,a=e.value;return Object(d.jsx)("td",{onClick:t,children:a})},h=(a(17),a.p+"static/media/click.37b199d5.mp3"),j=a.p+"static/media/win.6dc2f4de.mp3",v=a.p+"static/media/tie.0d5f1e37.mp3",p=function(e){var t=e.player,a=e.value,n=e.firstValue,s=e.result;return s?Object(d.jsx)("p",{className:"info",children:s}):Object(d.jsxs)("p",{className:"info",children:[t," (",a||n,")"]})},b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={player:"Player 1",field:[[],[],[]],result:"",value:"",gameover:!1},e.soundClick=function(){var e=new Audio;e.src=h,e.autoplay=!0},e.soundWin=function(){var e=new Audio;e.src=j,e.autoplay=!0},e.soundTie=function(){var e=new Audio;e.src=v,e.autoplay=!0},e.gameOver=function(t,a,n){for(var s=0;s<t.length;s++)if(t[s][0]===t[s][1]&&t[s][0]===t[s][2]&&void 0!==t[s][0]||t[0][s]===t[1][s]&&t[0][s]===t[2][s]&&void 0!==t[0][s]||t[0][0]===t[1][1]&&t[1][1]===t[2][2]&&void 0!==t[0][0]||t[0][2]===t[1][1]&&t[1][1]===t[2][0]&&void 0!==t[0][2])return e.setState({result:"WINNER - ".concat(n),gameover:!0}),void(a&&e.soundWin());for(var c=0,r=0;r<t.length;r++)for(var o=0;o<t.length;o++)void 0!==t[r][o]&&c++;9===c&&(e.setState({result:"TIE",gameover:!0}),a&&e.soundTie())},e.handleClick=function(t,a){var n,s=e.state,c=s.player,r=s.field,o=s.value,i=s.gameover,l=e.props.audio,u=c,d=r.slice();n=o||e.props.value,i||(r[t][a]||(d[t][a]=n,u="Player 1"===u?"Player 2":"Player 1",n="X"===n?"O":"X"),e.setState({player:u,field:d,value:n}),l&&e.soundClick(),e.gameOver(r,l,c))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.newGame===e.newGame&&this.props.value===e.value&&this.props.mode===e.mode||(this.setState({player:"Player 1",field:[[],[],[]],result:"",value:"",gameover:!1}),this.props.clearField())}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)("div",{className:"game-info",children:Object(d.jsx)(p,{result:this.state.result,player:this.state.player,value:this.state.value,firstValue:this.props.value})}),Object(d.jsx)("table",{children:Object(d.jsx)("tbody",{children:[0,1,2].map((function(t){return Object(d.jsx)("tr",{children:[0,1,2].map((function(a){return Object(d.jsx)(m,{onClick:function(){return e.handleClick(t,a)},value:e.state.field[t][a]},"".concat(t).concat(a))}))},t)}))})})]})}}]),a}(n.Component),f=(a(18),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={sound:!0},e.toggleSounds=function(){e.state.sound?e.setState({sound:!1}):e.setState({sound:!0}),e.props.switchAudio(!e.state.sound)},e.changeActiveParam=function(t,a,n,s){document.querySelectorAll(a).forEach((function(e){return e.classList.remove(n)})),t.target.classList.add(n),"PvC"===s||"PvP"===s?e.props.changeMode(s):"X"!==s&&"O"!==s||e.props.changeValue(s)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{className:"title",children:"TIC TAC TOE"}),Object(d.jsxs)("button",{className:"sound-switcher",onClick:this.toggleSounds,children:["Sound: ",this.state.sound?"ON":"OFF"]}),Object(d.jsxs)("div",{className:"game-modes",children:[Object(d.jsx)("h2",{className:"game-modes__title",children:"Choose mode:"}),Object(d.jsxs)("ul",{className:"game-modes__list",children:[Object(d.jsx)("li",{className:"game-modes__button",onClick:function(t){return e.changeActiveParam(t,".game-modes__button","active","PvC")},children:"Player vs Computer"}),Object(d.jsx)("li",{className:"game-modes__button active",onClick:function(t){return e.changeActiveParam(t,".game-modes__button","active","PvP")},children:"Player vs Player"})]})]}),Object(d.jsxs)("div",{className:"elements-types",children:[Object(d.jsx)("h2",{className:"elements-types__title",children:"Choose your Champion:"}),Object(d.jsxs)("ul",{className:"elements-types__list",children:[Object(d.jsx)("li",{className:"element-types active",onClick:function(t){return e.changeActiveParam(t,".element-types","active","X")},children:"X"}),Object(d.jsx)("li",{className:"element-types",onClick:function(t){return e.changeActiveParam(t,".element-types","active","O")},children:"O"})]})]}),Object(d.jsx)("button",{className:"new-game",onClick:function(){return e.props.startNewGame(!0)},children:"New game"})]})}}]),a}(n.Component)),O=(a(19),a.p+"static/media/rs_school_js.ad178c0d.svg"),g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsxs)("p",{className:"autor",children:["Directed by",Object(d.jsx)("a",{className:"author-link",href:"https://github.com/VladMeleshko",target:"_blank",rel:"noreferrer noopener",children:" Vlad Meleshko"}),", 2021"]}),Object(d.jsx)("a",{className:"school-logo",href:"https://rs.school/js/",target:"_blank",rel:"noreferrer noopener",children:Object(d.jsx)("img",{src:O,alt:"school-logo",className:"school-logo__img"})})]})}}]),a}(n.Component);var y=function(){var e=Object(n.useState)("PvP"),t=Object(r.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)("X"),o=Object(r.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(!1),m=Object(r.a)(u,2),h=m[0],j=m[1],v=Object(n.useState)(!0),p=Object(r.a)(v,2),O=p[0],y=p[1];return Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(f,{changeMode:function(e){return s(e)},changeValue:function(e){return l(e)},startNewGame:function(e){return j(e)},switchAudio:function(e){return y(e)}}),Object(d.jsx)(b,{mode:a,value:i,newGame:h,audio:O,clearField:function(e){return j(e)}}),Object(d.jsx)(g,{})]})};c.a.render(Object(d.jsx)(y,{}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.b5035dd2.chunk.js.map